range = fun: min,max,step {
  state = :{i: min} # has to be an object/array to be modifiable in other scopes (subject to change)
  fun {
    if state.i < max {
      ret = state.i
      state.i += step
      return ret
    } else {
      return nil
    }
  }
}

for i in range(4,20,2) {
  io.print(i)
}
